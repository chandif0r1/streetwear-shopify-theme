let homeController = new ScrollMagic.Controller, homeActive = document.querySelector(".template-index"); const headerTl = gsap.timeline(); headerTl.fromTo("header", { backgroundColor: "rgba( 0, 0, 0, 0)" }, { backgroundColor: "rgba( 0, 0, 0, 1)", duration: .5 }).fromTo("header .logo", { scale: 1 }, { scale: .8, duration: .4 }, ">-.4"); let headerScene = new ScrollMagic.Scene({ triggerElement: "body", triggerHook: 0, reverse: !0, offset: null != homeActive ? document.querySelector("header").offsetHeight + 100 : 0, duration: 0 }).setTween(headerTl).addTo(homeController), jumboNodes = document.querySelectorAll(".jumbo-section"); null != jumboNodes && jumboNodes.forEach(e => { gsap.timeline().fromTo(e.querySelectorAll(".transparent-color"), { opacity: 1, backgroundColor: "rgb(66, 53, 88)" }, { opacity: .8, duration: 1.2 }).fromTo("header .logo", { x: -200, opacity: 0 }, { x: 0, opacity: 1, duration: 1 }, ">-.5").fromTo("header .menu", { x: 200, opacity: 0 }, { x: 0, opacity: 1, duration: 1 }, ">-1").fromTo(e.querySelectorAll(".titles h1"), { x: 0, opacity: 0 }, { x: 100, opacity: 1, duration: 1 }, ">-.3").fromTo(e.querySelectorAll(".titles h2"), { x: 0, opacity: 0 }, { x: 135, opacity: 1, duration: 1 }, ">-.5").fromTo(e.querySelectorAll(".state"), { x: "100%" }, { x: 0, duration: 1 }, ">-1").fromTo(e.querySelectorAll(".store-info"), { y: "100%", opacity: 0 }, { y: 0, opacity: 1, duration: 1 }, ">-1.8").fromTo(e.querySelectorAll(".store-info img"), { y: 400, opacity: 0 }, { y: 0, opacity: 1, duration: 1, stagger: .2 }, ">-1.5") }); let twoCollectionNodes = document.querySelectorAll(".two-collections"); null != twoCollectionNodes && twoCollectionNodes.forEach(e => { let o = gsap.timeline(); o.fromTo(e.querySelectorAll(".col-md-6"), { y: 300, opacity: 0 }, { y: 0, opacity: 1, duration: 1 }).fromTo(e.querySelectorAll(".collection-title"), { y: 300, opacity: 0 }, { y: 0, opacity: 1, duration: 1 }); new ScrollMagic.Scene({ triggerElement: e, triggerHook: 1, reverse: !1, offset: 200, duration: 0 }).setTween(o).addTo(homeController) }); let horizontalImgNodes = document.querySelectorAll(".horizontal-img"); null != horizontalImgNodes && horizontalImgNodes.forEach(e => { let o = gsap.timeline(); o.fromTo(e, { opacity: 0 }, { opacity: 1 }).fromTo(e.querySelectorAll(".percent-number"), { scale: 0 }, { scale: 1, duration: 1 }).fromTo(e.querySelectorAll(".title"), { scale: 0 }, { scale: 1 }, ">-1"); new ScrollMagic.Scene({ triggerElement: e, triggerHook: 1, reverse: !0, offset: 150, duration: 0 }).setTween(o).addTo(homeController) }); let productsGroupNodes = document.querySelectorAll(".products-group"); null != productsGroupNodes && productsGroupNodes.forEach(e => { let o = gsap.timeline(); o.fromTo(e.querySelectorAll(".product-item"), { opacity: 0, y: 100 }, { opacity: 1, y: 0, stagger: .25, duration: .3 }); new ScrollMagic.Scene({ triggerElement: e, triggerHook: 1, reverse: !1, offset: 200, duration: 0 }).setTween(o).addTo(homeController) }); const footerTl = gsap.timeline(); footerTl.fromTo("footer .footer-fade-in", { opacity: 0, y: 100 }, { opacity: 1, y: 0, stagger: .25, duration: .5 }); let footerScene = new ScrollMagic.Scene({ triggerElement: "footer", triggerHook: 1, reverse: !1, offset: 0, duration: 0 }).setTween(footerTl).addTo(homeController); const mobileMenuTl = gsap.timeline({ paused: !0 }); mobileMenuTl.fromTo("#mobile-menu", { x: "-100%" }, { x: 0, duration: .5 }).fromTo("#mobile-menu .menu .link", { y: 50, opacity: 0 }, { y: 0, opacity: 1, duration: .5, stagger: .2 }); const openMobileMenu = document.querySelector(".open-mobile-menu"); openMobileMenu.addEventListener("click", () => { mobileMenuTl.play() }); const closeMobileMenu = document.querySelector(".close-mobile-menu"); closeMobileMenu.addEventListener("click", () => { mobileMenuTl.reverse() }); const mobileMenuOn = () => { window.innerWidth <= 991 ? document.querySelector("header .menu").classList.add("mobile-menu") : document.querySelector("header .menu").classList.remove("mobile-menu") }; mobileMenuOn(), window.addEventListener("resize", function (e) { mobileMenuOn() });